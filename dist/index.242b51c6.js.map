{"mappings":"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","sources":["index.ts"],"sourcesContent":["type Task = {\r\n    task_name: string;\r\n}\r\n\r\nclass DragDrop {\r\n    container: HTMLElement;\r\n    holding: boolean;\r\n    initialPosition: {\r\n        x: number;\r\n        y: number;\r\n    };\r\n    initialPositionHTML: HTMLElement;\r\n    changedPositionHTML: HTMLElement;\r\n\r\n    constructor(container: HTMLElement) {\r\n        this.container = container;\r\n        this.holding = false;\r\n\r\n        this.initialPosition = {\r\n            x: this.container.offsetLeft,\r\n            y: this.container.offsetTop\r\n        }\r\n\r\n        this.initialPositionHTML = document.createElement(\"div\");\r\n        this.initialPositionHTML.innerHTML = `x: ${this.initialPosition.x} y: ${this.initialPosition.y}`;\r\n        document.body.appendChild(this.initialPositionHTML);    \r\n\r\n        this.changedPositionHTML = document.createElement(\"div\");\r\n        this.changedPositionHTML.innerHTML = \"\";\r\n        document.body.appendChild(this.changedPositionHTML);\r\n    }\r\n\r\n    updateHolding(isHolding: boolean): void {\r\n        this.holding = isHolding;\r\n    }\r\n\r\n    firstContact(position: {x: number,y: number}): void {\r\n        this.initialPosition = position;\r\n        this.initialPositionHTML.innerHTML = `x: ${this.initialPosition.x} y: ${this.initialPosition.y}`;\r\n        this.updateHolding(true);\r\n    }\r\n    \r\n    releaseContact(): void {\r\n        this.updateHolding(false);\r\n    }\r\n\r\n    isInContact(): boolean {\r\n        return this.holding;\r\n    }\r\n\r\n    init() {\r\n        const handleFirstContact = (event: MouseEvent): void => {\r\n           \r\n            let x = event.pageX;\r\n            let y = event.pageY;\r\n\r\n            this.firstContact({x,y});\r\n        };\r\n\r\n        const handleReleaseContact = ():void => {\r\n            this.releaseContact();\r\n        };\r\n\r\n        const handleDragging = (event: MouseEvent):void => {\r\n            if (!this.isInContact()) return;\r\n\r\n            let x = event.pageX;\r\n            let y = event.pageY;\r\n\r\n            let delta_x = x - this.initialPosition.x;\r\n            let delta_y = y - this.initialPosition.y;\r\n\r\n            this.container.style.transform = `translate(${delta_x}px,${delta_y}px)`;\r\n\r\n            this.changedPositionHTML.innerHTML = `x: ${x} y: ${y}`;\r\n         /*    this.initialPosition = {x,y}; */\r\n        };\r\n\r\n        this.container.addEventListener(\"mousedown\",handleFirstContact);\r\n        this.container.addEventListener(\"mousemove\",handleDragging);\r\n        window.addEventListener(\"mouseup\",handleReleaseContact);\r\n    }\r\n}\r\n\r\nclass TaskHandler {\r\n    _TASKS: Array<Task>;\r\n    HTML: Record<string,HTMLElement> \r\n    constructor(container: HTMLElement) {\r\n        this._TASKS = [];\r\n\r\n\r\n        //container all html used\r\n        this.HTML = {\r\n            addTask: container.querySelector(\"#add-task-form\") as HTMLElement,\r\n            taskList: container.querySelector(\"#task-list\") as HTMLElement,\r\n            noTask: container.querySelector(\"#no-task\") as HTMLElement\r\n        };\r\n    }\r\n\r\n    //as the name say it take a Task type value and push that to the _TASKS container and then update the display\r\n    addTask(task: Task): void {\r\n        this._TASKS.push(task);\r\n        this.displayTask();\r\n    }\r\n\r\n    //remove the task by the index and then update the display\r\n    removeTask(index: number): void {\r\n        this._TASKS.splice(index,1);\r\n        this.displayTask();\r\n    }\r\n\r\n    //update the task by the index and then update the display\r\n    updateTask(index: number): void {\r\n        let task_item = this.HTML.taskList.querySelectorAll(\"#task-list .task-item\")[index];\r\n        let task_name_input = task_item.querySelector(\"input\");\r\n    \r\n        task_name_input?.removeAttribute(\"disabled\");\r\n        task_name_input?.focus();\r\n    \r\n        task_name_input?.addEventListener(\"blur\",finishUpdate.bind(this));\r\n    \r\n        function finishUpdate(this: TaskHandler): void {\r\n            task_name_input?.setAttribute(\"disabled\",\"\");\r\n            this._TASKS[index].task_name = task_name_input?.value as string;\r\n        }\r\n    }\r\n\r\n    displayTask(): void {\r\n        //remove the html tasklist child/s\r\n        this.HTML.taskList.innerHTML = \"\";\r\n\r\n        //show \"NO TASK\" html if there is no task in the task list\r\n        this.updateNoTaskDisplay(this.getTasksTotal() > 0);\r\n\r\n        for (let i = 0;i < this.getTasksTotal();i++) {\r\n            const {task_name} = this._TASKS[i] as Task;\r\n\r\n            //outer cointainer\r\n            let container = document.createElement(\"div\");\r\n            container.className = \"task-item flex border justify-between cursor-pointer select-none absolute w-full\";\r\n\r\n            //the task name starts with disabled / can't be edited , but once the update button is clicked it will be updatable again\r\n            let task_name_display: HTMLInputElement = document.createElement(\"input\");\r\n            task_name_display.setAttribute(\"disabled\",\"\");\r\n            task_name_display.className = \"disabled:bg-white disabled:cursor-pointer\";\r\n            task_name_display.value = task_name;\r\n\r\n            //the done and update buttons\r\n            let done_btn = document.createElement(\"button\");\r\n            done_btn.innerHTML = \"DONE\";\r\n\r\n            let update_btn = document.createElement(\"button\");\r\n            update_btn.innerHTML = \"UPDATE\";\r\n\r\n            done_btn.className = update_btn.className = \"border px-5 py-2\";\r\n\r\n            //add the handlers\r\n            done_btn.addEventListener(\"click\",() => this.removeTask(i));\r\n            update_btn.addEventListener(\"click\",() => this.updateTask(i));\r\n            \r\n            //put all of the to the container\r\n            container.appendChild(task_name_display);\r\n            container.appendChild(update_btn);\r\n            container.appendChild(done_btn);\r\n\r\n            \r\n            //add the handler for drag and drop\r\n            let drag_drop:DragDrop = new DragDrop(container);\r\n            drag_drop.init();\r\n            \r\n            //put the container to the task list\r\n            this.HTML.taskList.appendChild(container);  \r\n\r\n            //solution for disabled element event listener don't work\r\n            let task_name_display_box = document.createElement(\"div\");\r\n            task_name_display_box.className = \"absolute top-0 left-0\";\r\n            task_name_display_box.style.width = task_name_display.offsetWidth + \"px\";\r\n            task_name_display_box.style.height = task_name_display.offsetHeight + \"px\";\r\n            \r\n            container.appendChild(task_name_display_box);\r\n\r\n            container.style.transform = `translateY(${i * container.offsetHeight}px)`;\r\n        }\r\n    }\r\n\r\n    updateNoTaskDisplay(hide: boolean): void {\r\n        if (hide) this.HTML.noTask.classList.add(\"hidden\");\r\n        else this.HTML.noTask.classList.remove(\"hidden\");\r\n    }\r\n\r\n    getTasksTotal(): number {\r\n        return this._TASKS.length;\r\n    }\r\n\r\n    init():void {\r\n        this.HTML.addTask.addEventListener(\"submit\",handleAddTask.bind(this));\r\n\r\n        //handle events\r\n        function handleAddTask(this: TaskHandler,event: Event):void {\r\n            event.preventDefault();\r\n\r\n            //get the add task input value\r\n            let task_name_input = this.HTML.addTask.querySelector(\"input\") as HTMLInputElement;\r\n            let task_name = task_name_input.value;\r\n\r\n            const TASK: Task = {\r\n                task_name\r\n            };\r\n\r\n            //reset the input \r\n            task_name_input.value = \"\";\r\n\r\n            //add the task\r\n            this.addTask(TASK);\r\n        }\r\n    }\r\n}\r\n\r\nconst taskHandler = new TaskHandler(document.querySelector(\"#task-handler\") as HTMLElement);\r\ntaskHandler.init();"],"names":[],"version":3,"file":"index.242b51c6.js.map","sourceRoot":"/__parcel_source_root/"}